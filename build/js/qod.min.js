!function(o){let e="";o("#new-quote-button").on("click",function(t){t.preventDefault(),e=document.URL,o.ajax({method:"GET",url:qod_vars.rest_url+"/wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){console.log(e);const t=e[0];history.pushState(null,null,qod_vars.home_url+"/"+t.slug),o(".entry-content").html(e[0].content.rendered),o(".entry-title").html(e[0].title.rendered),""!==e[0]._qod_quote_source_url?o(".source").html(`,<a href="${e[0]._qod_quote_source_url}">${e[0]._qod_quote_source}</a>`):o(".source").html(e[0]._qod_quote_source)}).fail(function(o){console.log("an error occurred",o)}),o(window).on("popstate",function(){window.location.replace(e)})})}(jQuery),function(o){o("#quote-submission-form").on("submit",function(e){e.preventDefault();const t={title:o("#quote-author").val(),content:o("#quote").val(),_qod_quote_source_url:o("#quote-location").val(),_qod_quote_source:o("quote-url").val()};console.log(t),o.ajax({method:"post",url:qod_vars.rest_url+"wp/v2/posts/",data:t,beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_vars.nonce)}}).done(function(){o("#content").append("Thanks, your quote submission was received."),o("#quote-submission-form").slideUp()}).fail(function(o){alert("Hey, it's not working. "+o)})})}(jQuery);